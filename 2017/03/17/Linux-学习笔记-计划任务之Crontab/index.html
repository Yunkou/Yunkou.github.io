<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Linux å­¦ä¹ ç¬”è®°-è®¡åˆ’ä»»åŠ¡ä¹‹Crontab Â· ğŸºå¯‡è€å¸ˆçš„å°ç«™ğŸº</title><meta name="description" content="Linux å­¦ä¹ ç¬”è®°-è®¡åˆ’ä»»åŠ¡ä¹‹Crontab - Yunkou"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="ğŸºå¯‡è€å¸ˆçš„å°ç«™ğŸº"><meta name="generator" content="Hexo 4.0.0"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/Yunkou" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="https://juejin.im/user/55edc49b60b294604dbc746e" target="_blank" class="nav-list-link">JUEJIN</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Linux å­¦ä¹ ç¬”è®°-è®¡åˆ’ä»»åŠ¡ä¹‹Crontab</h1><div class="post-info">2017å¹´3æœˆ17æ—¥</div><div class="post-content"><blockquote>
<p>Crontab  ä»å®šæ—¶é‡å¤å·¥ä½œä¸­è§£è„±å‡ºæ¥  </p>
</blockquote>
<h2 id="å·¥ä½œä¸­é‡åˆ°çš„å›°éš¾"><a href="#å·¥ä½œä¸­é‡åˆ°çš„å›°éš¾" class="headerlink" title="å·¥ä½œä¸­é‡åˆ°çš„å›°éš¾"></a>å·¥ä½œä¸­é‡åˆ°çš„å›°éš¾</h2><ul>
<li>æ¯åˆ†é’Ÿéœ€è¦æ‰§è¡Œä¸€ä¸ªç¨‹åºæ£€æŸ¥ç³»ç»Ÿè¿è¡ŒçŠ¶æ€</li>
<li>æ¯å¤©å‡Œæ™¨éœ€è¦å¯¹è¿‡å»ä¸€å¤©çš„ä¸šåŠ¡æ•°æ®è¿›è¡Œç»Ÿè®¡</li>
<li>æ¯ä¸ªæ˜ŸæœŸéœ€è¦æŠŠæ—¥å¿—æ–‡ä»¶å¤‡ä»½</li>
<li>æ¯ä¸ªæœˆéœ€è¦æŠŠæ•°æ®åº“è¿›è¡Œå¤‡ä»½</li>
</ul>
<h2 id="Crontab-ç®€ä»‹"><a href="#Crontab-ç®€ä»‹" class="headerlink" title="Crontab ç®€ä»‹"></a>Crontab ç®€ä»‹</h2><h3 id="Crontab-æ˜¯ä»€ä¹ˆ"><a href="#Crontab-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Crontab æ˜¯ä»€ä¹ˆ"></a>Crontab æ˜¯ä»€ä¹ˆ</h3><p>Crontab æ˜¯ä¸€ä¸ªç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œä»»åŠ¡çš„å·¥å…·ã€‚</p>
<ul>
<li>è¢«å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡æˆ‘ä»¬é™ˆä¼ŸCron Job</li>
<li>å‘¨æœŸæ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨æˆ‘ä»¬ç§°ä¸ºCron Table</li>
</ul>
<h2 id="Crontab-å®è·µ"><a href="#Crontab-å®è·µ" class="headerlink" title="Crontab å®è·µ"></a>Crontab å®è·µ</h2><h3 id="æ£€æŸ¥cronæœåŠ¡"><a href="#æ£€æŸ¥cronæœåŠ¡" class="headerlink" title="æ£€æŸ¥cronæœåŠ¡"></a>æ£€æŸ¥cronæœåŠ¡</h3><ul>
<li>æ£€æŸ¥Crontabå·¥å…·æ˜¯å¦å®‰è£…ï¼š crontab -l</li>
<li>æ£€æŸ¥Crontab æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼š service crond status<h3 id="å®‰è£…cron"><a href="#å®‰è£…cron" class="headerlink" title="å®‰è£…cron"></a>å®‰è£…cron</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install vixie-cron</span><br><span class="line">yum install crontabs</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="ä¸€ä¸ªç®€å•çš„ä¾‹å­"><a href="#ä¸€ä¸ªç®€å•çš„ä¾‹å­" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ä¾‹å­"></a>ä¸€ä¸ªç®€å•çš„ä¾‹å­</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¼–è¾‘å®šæ—¶ä»»åŠ¡è„šæœ¬</span></span><br><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ·»åŠ ä¸€æ¡ç®€å•çš„å®šæ—¶å‘½ä»¤æ¯åˆ†é’Ÿæ‰“å°æ—¶é—´</span></span><br><span class="line">[viæ¨¡å¼] *ï¼1 * * * * date &gt;&gt; /tmp/log.txt</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªå®ç”¨çš„å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºæ–‡ä»¶çš„æœ€åä¸‰è¡Œ</span></span><br><span class="line">tail -3 æ–‡ä»¶ </span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ¨æ€åˆ·æ–°æ˜¾ç¤ºæ–‡ä»¶çš„æœ€åå‡ è¡Œ</span></span><br><span class="line">tail -f æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h3 id="Crontab-çš„åŸºæœ¬ç»„æˆ"><a href="#Crontab-çš„åŸºæœ¬ç»„æˆ" class="headerlink" title="Crontab çš„åŸºæœ¬ç»„æˆ"></a>Crontab çš„åŸºæœ¬ç»„æˆ</h3><p>ç³»ç»ŸæœåŠ¡ <strong>crond</strong> æ¯åˆ†é’Ÿéƒ½ä¼šä»é…ç½®æ–‡ä»¶åˆ·æ–°å®šæ—¶ä»»åŠ¡<br><img src="http://ww1.sinaimg.cn/large/006tKfTcly1fdq5o38sktj30kg07st9r.jpg" alt=""></p>
<h3 id="Crontab-çš„é…ç½®æ–‡ä»¶æ ¼å¼"><a href="#Crontab-çš„é…ç½®æ–‡ä»¶æ ¼å¼" class="headerlink" title="Crontab çš„é…ç½®æ–‡ä»¶æ ¼å¼"></a>Crontab çš„é…ç½®æ–‡ä»¶æ ¼å¼</h3><p><code>* * * * * COMMAND</code><br><img src="http://ww1.sinaimg.cn/large/006tNc79ly1fdq5qq82ivj30ef072t9c.jpg" alt=""></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ¯æ™šçš„21:30é‡å¯apache</span></span><br><span class="line">30 21 * * * service httpd restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯æœˆ1ã€10ã€22æ—¥çš„4:45é‡å¯apache</span></span><br><span class="line">45 4 1,10,22 * * service httpd restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯æœˆ1åˆ°10æ—¥çš„4:45é‡å¯apache</span></span><br><span class="line">45 4 1-10 * * service httpd restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯éš”ä¸¤åˆ†é’Ÿé‡å¯apache</span></span><br><span class="line">*ï¼2 * * * * service httpd restart</span><br><span class="line">1-59/2 * * * * service httpd restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯å°æ—¶é‡å¯apache</span></span><br><span class="line">0 23-7/1 * * * service httpd restart</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯å¤©18:00è‡³23:00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯apache</span></span><br><span class="line">0,30 18-23 * * * service httpd restart</span><br><span class="line">0-59/30 18-23 * * * service httpd restart</span><br></pre></td></tr></table></figure>

<ul>
<li><ul>
<li>è¡¨ç¤ºäººè®¾æ—¶å€™éƒ½åŒ¹é…</li>
</ul>
</li>
<li>å¯ä»¥ç”¨â€œA,B,Câ€è¡¨ç¤ºAæˆ–è€…Bæˆ–è€…Cæ—¶æ‰§è¡Œå‘½ä»¤</li>
<li>å¯ä»¥ç”¨â€œA-Bâ€ è¡¨ç¤º Aåˆ°Bä¹‹é—´æ—¶æ‰§è¡Œå‘½ä»¤</li>
<li>å¯ä»¥ç”¨â€œ*/Aâ€ è¡¨ç¤ºæ¯Aåˆ†é’Ÿï¼ˆå°æ—¶ç­‰ï¼‰æ‰§è¡Œä¸€æ¬¡å‘½ä»¤</li>
</ul>
<h3 id="Crontab-å‘½ä»¤"><a href="#Crontab-å‘½ä»¤" class="headerlink" title="Crontab å‘½ä»¤"></a>Crontab å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab [é€‰é¡¹]</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li>-l  ç½—åˆ—å®šæ—¶ä»»åŠ¡åˆ—è¡¨</li>
<li>-e ç¼–è¾‘é…ç½®æ–‡ä»¶</li>
<li>-u æŒ‡å®šç”¨æˆ·</li>
</ul>
<h3 id="Crontab-å‘½ä»¤æ—¥å¿—"><a href="#Crontab-å‘½ä»¤æ—¥å¿—" class="headerlink" title="Crontab å‘½ä»¤æ—¥å¿—"></a>Crontab å‘½ä»¤æ—¥å¿—</h3><p>/var/log/cronæ–‡ä»¶ä¿å­˜ç€cronçš„ä»»åŠ¡æ‰§è¡Œè®°å½•</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/03/24/Linux-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Linux%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/" class="prev">ä¸Šä¸€ç¯‡</a><a href="/2017/03/10/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E7%AE%A1%E7%90%86/" class="next">ä¸‹ä¸€ç¯‡</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'yunkou-blog';
var disqus_identifier = '2017/03/17/Linux-å­¦ä¹ ç¬”è®°-è®¡åˆ’ä»»åŠ¡ä¹‹Crontab/';
var disqus_title = 'Linux å­¦ä¹ ç¬”è®°-è®¡åˆ’ä»»åŠ¡ä¹‹Crontab';
var disqus_url = 'http://yoursite.com/2017/03/17/Linux-å­¦ä¹ ç¬”è®°-è®¡åˆ’ä»»åŠ¡ä¹‹Crontab/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//yunkou-blog.disqus.com/count.js" async></script><div class="copyright"><p>Â© 2018 - 2019 <a href="http://yoursite.com">Yunkou</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-71814553-1",'auto');ga('send','pageview');</script></body></html>